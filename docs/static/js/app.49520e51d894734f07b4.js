webpackJsonp([1],{0:function(t,e){},1:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},5:function(t,e){},6:function(t,e){},"8Y90":function(t,e){},"8cwD":function(t,e){},GRko:function(t,e){},N1kN:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),o=n("7t+N"),i=n.n(o),s=n("zL8q"),a=n.n(s),u=(n("tvR6"),n("N1kN"),{render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]}),c=n("VU/8")({name:"App",created:function(){}},u,!1,null,null,null).exports,l=n("/ocq"),d=n("NYxO"),p={name:"Home",data:function(){return{}},mounted:function(){console.log(this.$router.options.routes)},computed:{},methods:{toRoute:function(t){console.log(t),this.$router.push(t)}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("ul",{staticClass:"content"},t._l(t.$router.options.routes,function(e){return n("li",{on:{click:function(n){return t.toRoute(e)}}},[t._v(t._s(e.name)+" - "+t._s(e.desc))])}),0)])},staticRenderFns:[]};var f=n("VU/8")(p,h,!1,function(t){n("GRko")},"data-v-76b335ea",null).exports,v=n("Dd8w"),m=n.n(v),_={name:"Module",data:function(){return{}},mounted:function(){this.randomPhotoObj()},computed:m()({},Object(d.e)("user",["curUser","theme"]),Object(d.e)("room",["count","photoObj"]),Object(d.c)("user",["curUserId","isCurUserId","getCurThemeByUserId"]),Object(d.c)("room",["curPhotoSrc"]),{curUserIsZhangSan:function(){return this.isCurUserId("123456")?"是":"否"}}),methods:m()({},Object(d.d)("user",["TOGGLE_THEME"]),Object(d.d)("room",["ADD_SEAT_COUNT","DEL_SEAT_COUNT"]),Object(d.b)("room",["randomPhotoObj"]))},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper",class:t.theme},[n("div",{staticClass:"state-wrapper"},[n("div",{staticClass:"state-user"},[n("p",{staticStyle:{background:"orange",padding:".1rem"}},[t._v("用户信息模块：store/user.js")]),t._v(" "),n("div",{staticStyle:{background:"black",color:"white",padding:".2rem"}},[n("p",[t._v("curUser.id: "+t._s(t.curUserId))]),t._v(" "),n("p",[t._v("curUser.name: "+t._s(t.curUser.name))]),t._v(" "),n("p",[t._v("curUser.age: "+t._s(t.curUser.age))]),t._v(" "),n("p",[t._v("当前用户是张三吗？ "+t._s(t.curUserIsZhangSan))])]),t._v(" "),n("p",{staticStyle:{background:"orange",padding:".1rem"}},[t._v("房间信息模块：room.js")]),t._v(" "),n("div",{staticStyle:{background:"black",color:"white",padding:".2rem"}},[n("p",[t._v("count: "+t._s(t.count))]),t._v(" "),null!=t.photoObj?n("div",[t._v("\n          右侧图片信息\n          "),n("p",[t._v("标题："+t._s(t.photoObj.title))]),t._v(" "),n("p",[t._v("宽高："+t._s(t.photoObj.width)+" X "+t._s(t.photoObj.height))]),t._v(" "),n("p",[t._v("作者："+t._s(t.photoObj.author)+"("+t._s(t.photoObj.author_uid)+")")]),t._v(" "),n("p",[t._v("标签："),t._l(t.photoObj.tags,function(e,r){return n("el-tag",{key:"test"+r,staticStyle:{"margin-right":".05rem"},attrs:{size:"mini"}},[t._v(t._s(e))])})],2),t._v(" "),n("p",[t._v("图片网址："),n("el-link",{attrs:{href:t.photoObj.page}},[t._v(t._s(t.photoObj.page))])],1),t._v(" "),n("p",[t._v("图片地址："),n("el-link",{attrs:{href:t.photoObj.url}},[t._v(t._s(t.photoObj.url))])],1)]):t._e()])]),t._v(" "),n("div",{staticClass:"state-room"},[n("img",{attrs:{src:t.curPhotoSrc}})])]),t._v(" "),n("div",{staticClass:"button-wrapper"},[n("el-button",{attrs:{type:"success"},on:{click:t.TOGGLE_THEME}},[t._v("更改主题")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.ADD_SEAT_COUNT}},[t._v("座位+1")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.DEL_SEAT_COUNT}},[t._v("座位-1")]),t._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:t.randomPhotoObj}},[t._v("随机图片")])],1)])},staticRenderFns:[]};var b=n("VU/8")(_,g,!1,function(t){n("mER5")},"data-v-3d3e1b9a",null).exports,O=n("iwQb");if("server"!==Object({NODE_ENV:"production"}).VUE_ENV){var w=n("ytml").default,y=n("QzLT");if("undefined"!=typeof window&&"Worker"in window&&-1===navigator.appVersion.indexOf("MSIE 10")){var P=n("yQBj");y.GlobalWorkerOptions.workerPort=new P}var T=Object(O.a)(w(y))}else T=Object(O.a)({});var E=T;var U={name:"PdfPreview",components:{pdf:n("VU/8")(E,null,!1,function(t){n("xxT8")},null,null).exports},data:function(){return{src:"http://xstx.fun/vue-module/src/assets/file/Java-Top10.pdf",currentPage:1,totalPage:0,loadedRatio:0}},mounted:function(){},computed:{},methods:{loadPdfHandler:function(t){console.log("loadPdfHandler",t)},changePdfPage:function(t){"first"==t&&(this.currentPage=1,this.toTop()),"pre"==t&&this.currentPage>1&&(this.currentPage--,this.toTop()),"next"==t&&this.currentPage<this.totalPage&&(this.currentPage++,this.toTop()),"last"==t&&(this.currentPage=this.totalPage,this.toTop())},toTop:function(){document.getElementById("container").scrollTop=0}}},j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper",attrs:{id:"container"}},[n("div",{staticClass:"buttons"},[n("p",[t._v(t._s(t.currentPage)+" / "+t._s(t.totalPage))]),t._v(" "),n("p",[n("el-button",{attrs:{round:"",icon:"el-icon-caret-top"},on:{click:function(e){return t.changePdfPage("first")}}})],1),t._v(" "),n("p",[n("el-button",{attrs:{round:"",icon:"el-icon-arrow-up"},on:{click:function(e){return t.changePdfPage("pre")}}})],1),t._v(" "),n("p",[n("el-button",{attrs:{round:"",icon:"el-icon-arrow-down"},on:{click:function(e){return t.changePdfPage("next")}}})],1),t._v(" "),n("p",[n("el-button",{attrs:{round:"",icon:"el-icon-caret-bottom"},on:{click:function(e){return t.changePdfPage("last")}}})],1)]),t._v(" "),n("pdf",{directives:[{name:"show",rawName:"v-show",value:1==t.loadedRatio,expression:"loadedRatio==1"}],staticStyle:{width:"50%",margin:"auto",border:"1px solid grey"},attrs:{src:t.src,page:t.currentPage},on:{"num-pages":function(e){t.totalPage=e},progress:function(e){t.loadedRatio=e},"page-loaded":function(e){t.currentPage=e},loaded:t.loadPdfHandler,"link-clicked":function(e){t.currentPage=e}}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:1!=t.loadedRatio,expression:"loadedRatio!=1"}],staticClass:"progress"},[n("el-progress",{attrs:{type:"circle",width:70,color:"#53a7ff",percentage:Math.floor(100*t.loadedRatio)}}),t._v(" "),n("br"),n("span",[t._v("正在加载中，请稍候...")])],1)],1)},staticRenderFns:[]};var k=n("VU/8")(U,j,!1,function(t){n("8cwD")},"data-v-a6d7fb94",null).exports;r.default.use(l.a);var x=l.a.prototype.push;l.a.prototype.push=function(t){return x.call(this,t).catch(function(t){return t})};var S=new l.a({base:"/",routes:[{path:"/",name:"Home",component:f,desc:"首页导航"},{path:"/module",name:"Module",component:b,desc:"Vuex模块化，Vuex-persistencestate持久化，secure-ls加密处理"},{path:"/pdf-preview",name:"PdfPreview",component:k,desc:"vue-pdf预览pdf文件流"}]}),C=n("//Fk"),$=n.n(C),N=n("mtWM"),R=n.n(N),I=n("mw3O"),z=n.n(I),D=R.a.create({baseURL:"/api",timeout:5e3});D.interceptors.response.use(function(t){return t.data},function(t){return t&&t.message&&t.message.indexOf("timeout")>-1?$.a.reject("请求超时"):$.a.reject(t)});var H=function(t,e){return D({method:"get",url:t,params:e,headers:{token:localStorage.token},paramsSerializer:function(t){return z.a.stringify(t,{arrayFormat:"brackets"})}})},A={randomImage:function(){return H("/v2/")}},L=(n("yh13"),n("Xxa5")),V=n.n(L),B=n("exGp"),G=n.n(B),M={namespaced:!0,state:function(){return{theme:"light",curUser:{id:"123456",name:"张三",age:23}}},getters:{curUserId:function(t,e,n,r){return t.curUser?t.curUser.id:void 0},isCurUserId:function(t,e,n,r){return function(t){return t==e.curUserId}},getCurThemeByUserId:function(t,e,n,r){return function(n){return e.isCurUserId(n)?t.curTheme:""}}},mutations:{SET_CUR_USER:function(t,e){r.default.set(t,"curUser",e)},TOGGLE_THEME:function(t,e){t.theme="light"==t.theme?"dark":"light"}},actions:{getCurUser:function(t){var e=this;t.state,t.commit;return G()(V.a.mark(function t(){return V.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,e)}))()}}},F={namespaced:!0,state:function(){return{count:0,photoObj:null}},getters:{curPhotoSrc:function(t,e,n,r){return null==t.photoObj?"NULL":t.photoObj.url}},mutations:{ADD_SEAT_COUNT:function(t,e){t.count++},DEL_SEAT_COUNT:function(t,e){t.count--},SET_PHOTO_OBJ:function(t,e){r.default.set(t,"photoObj",e)}},actions:{randomPhotoObj:function(t){var e=this,n=t.state,r=t.commit;return G()(V.a.mark(function t(){var o;return V.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.photoObj&&r("SET_PHOTO_OBJ",null),t.next=3,A.randomImage();case 3:o=t.sent,console.log("获取图片：",o),o.success&&o.data&&o.data.length>0?r("SET_PHOTO_OBJ",o.data[0]):s.Message.error("请求接口出错");case 6:case"end":return t.stop()}},t,e)}))()}}},J=n("424j"),W=n("7Ex1"),Q=n.n(W);r.default.use(d.a);var Y=new Q.a({encodingType:"aes",isCompression:!1,encryptionSecret:"encryption"});localStorage.removeItem("vuex");var q=new d.a.Store({state:function(){return{}},getters:{},mutations:{},actions:{},modules:{user:M,room:F},plugins:[Object(J.a)({key:"vuex",storage:{getItem:function(t){return Y.get(t)},setItem:function(t,e){return Y.set(t,e)},removeItem:function(t){return Y.remove(t)}}})]}),X=new r.default;r.default.use(a.a),r.default.config.productionTip=!1,r.default.prototype.$=i.a,r.default.prototype.$api=A,r.default.prototype.$bus=X,new r.default({el:"#app",router:S,store:q,components:{App:c},template:"<App/>"})},POKh:function(t,e,n){"use strict";var r={props:{initial:{type:Boolean,default:!1}},data:function(){return{size:{width:-1,height:-1}}},methods:{reset:function(){var t=this.$el.firstChild,e=this.$el.lastChild;t.scrollLeft=1e5,t.scrollTop=1e5,e.scrollLeft=1e5,e.scrollTop=1e5},update:function(){this.size.width=this.$el.offsetWidth,this.size.height=this.$el.offsetHeight}},watch:{size:{deep:!0,handler:function(t){this.reset(),this.$emit("resize",{width:this.size.width,height:this.size.height})}}},render:function(t){var e="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",n="position: absolute; left: 0; top: 0;";return t("div",{style:e+"animation-name: resizeSensorVisibility;",on:{"~animationstart":this.update}},[t("div",{style:e,on:{scroll:this.update}},[t("div",{style:n+"width: 100000px; height: 100000px;"})]),t("div",{style:e,on:{scroll:this.update}},[t("div",{style:n+"width: 200%; height: 200%;"})])])},beforeDestroy:function(){this.$emit("resize",{width:0,height:0}),this.$emit("resizeSensorBeforeDestroy")},mounted:function(){if(!0===this.initial&&this.$nextTick(this.update),this.$el.offsetParent!==this.$el.parentNode&&(this.$el.parentNode.style.position="relative"),"attachEvent"in this.$el&&!("AnimationEvent"in window)){var t=function(){this.update(),e()}.bind(this),e=function(){this.$el.detachEvent("onresize",t),this.$off("resizeSensorBeforeDestroy",e)}.bind(this);this.$el.attachEvent("onresize",t),this.$on("resizeSensorBeforeDestroy",e),this.reset()}}};var o=n("VU/8")(r,null,!1,function(t){n("8Y90")},null,null);e.a=o.exports},mER5:function(t,e){},tvR6:function(t,e){},xxT8:function(t,e){},yh13:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.49520e51d894734f07b4.js.map